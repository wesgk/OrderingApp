"use strict";pizzaApp.controller("EditOrderController",function(t,n,r,i,s){function u(e,t){s.info("updateOrder:items : "+e.items);s.info("updateOrder:vendor : "+e.vendor);s.info("updateOrder:newOrderForm : "+t);n.save(e).$promise.then(function(e){console.log("success",e);l()}).catch(function(e){console.log("failure",e)})}function l(){s.warn("in flashSavedMessage");t.savedMessage=!0;o=i(function(){t.savedMessage=!1},2e3)}s.info("loaded EditOrderController");t.savedMessage=!1;var o;n.getOrder(r.id,function(e){t.order=e;s.info("order : "+e)});var a=function(e,t,n){s.info("old val: "+t+" new val: "+e);if(e!=t){s.info("id: "+n.order.id);if(n.order.id){s.info("id exists");u(n.order,newOrderForm)}else s.info("no id exists")}},f=i(function(){t.$watch("order.vendor",a);t.$watch("order.items",a,!0)},1e3);t.addItem=function(e){var n=t.order.items,r=n.length+1;n.push({id:r,type:"",size:""})};t.removeItem=function(e){var n=t.order.items,r=e.id-1;if(r>=0){n.splice(r,1);var i=1;for(var s in n){n[s].id=i;i++}}}});