"use strict";pizzaApp.directive("recordAvailabilityValidator",["$http",function(e){return{require:"ngModel",link:function(t,n,r,i){function o(e){i.$setValidity("recordLoading",!e)}function u(e){i.$setValidity("recordAvailable",e)}var s=r.recordAvailabilityValidator;i.$parsers.push(function(n){if(!n||n.length==0)return;var r="/"+n+(t.user.id?"/id/"+t.user.id:"");o(!0);u(!1);e.get(s+r).then(function(e){o(!1);u(Boolean(e.data.length===0))});return n})}}}]);