"use strict";pizzaApp.factory("userData",function(e,t,n){var r=e("/data/user/:id",{id:"@id"},{getAll:{method:"GET",isArray:!0,params:{something:"foo"}}}),i={id:"0",buildingNumber:"",apartmentNumber:"",streetName:"",city:"",country:"",province:"",postalCode:"",specialInstructions:""},s={fname:"",lname:"",email:"",telephone:"",paypalNumber:0,addresses:[{id:"0",buildingNumber:"",apartmentNumber:"",streetName:"",city:"",country:"",province:"",postalCode:"",specialInstructions:""}],defaultAddress:""},o={fname:"",lname:"",email:"",telephone:"",paypalNumber:0,addresses:[{id:"0",buildingNumber:"",apartmentNumber:"",streetName:"",city:"",country:"",province:"",postalCode:"",specialInstructions:""}],defaultAddress:""},u=function(e){n.debug("in addAddress service");var t=e.length+1,r={};angular.copy(i,r);r.id=t;e.push(r)},a=function(e,t,n){var n=t.id?t.id-1:n;if(n>=0){e.splice(n,1);var r=1;for(var i in e){e[i].id=r;r++}}},f=function(e,t){e?l(e,function(e){t(e)}):angular.copy(s,o)},l=function(e,r){n.debug("in getUser getting: "+e);t({method:"GET",url:"/data/user/"+e}).success(function(e,t,n,i){r(e)}).error(function(e,t,r,i){n.warn(e,t,r(),i)})},c=function(e){t({method:"GET",url:"/data/user/new"}).success(function(t,r,i,s){n.debug("success: "+t);e(t)}).error(function(e,t,r,i){n.warn(e,t,r,i)})};return{user:o,getUser:l,save:function(e){return r.save(e)},update:function(e){return r.save(e)},getAllUsers:function(){return r.query()},getNextId:c,reset:f,addAddress:u,removeAddress:a}});